#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# è·å–å‚æ•°
COMMIT_SOURCE=$2

# æ‹¦æˆªé€šè¿‡ git commit -m çš„ç›´æ¥æäº¤
if [ "$COMMIT_SOURCE" = "message" ]; then
  echo ""
  echo "ğŸš« ç›´æ¥ä½¿ç”¨ git commit -m è¢«ç¦æ­¢ï¼"
  echo ""
  echo "è¯·ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€è¿›è¡Œæäº¤ï¼š"
  echo "  ğŸ“ pnpm commit"
  echo "  ğŸ“ npm run commit"
  echo "  ğŸ“ git cz"
  echo ""
  echo "è¿™å°†å¯åŠ¨äº¤äº’å¼æäº¤æµç¨‹ï¼Œç¡®ä¿æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒã€‚"
  echo ""
  exit 1
fi

# å¯¹äºæ™®é€šçš„ git commitï¼ˆæ—  -mï¼‰ï¼Œå¯åŠ¨ git-cz
if [ -z "$COMMIT_SOURCE" ]; then
  exec < /dev/tty && git cz --hook || true
fi
